{"version":3,"sources":["Instance.coffee"],"names":[],"mappings":"AAAA;AAAA;;GAAA;AAAA,IAAA,uBAAA;;AAAA,aAGA,GAAgB,CAAC,SAAA,GAAA;AACf,MAAA,YAAA;AAAA,EAAA,YAAA,GAAe,SAAC,IAAD,GAAA;WACb,MAAO,CAAA,IAAK,CAAA,GAAA,CAAL,CAAU,CAAC,KAAlB,CAAwB,IAAxB,EAA8B,IAAK,CAAA,GAAA,CAAnC,EADa;EAAA,CAAf,CAAA;SAEA,SAAA,GAAA;AACE,QAAA,UAAA;AAAA,IAAA,YAAY,CAAA,SAAZ,GAAkB,MAAO,CAAA,SAAU,CAAA,GAAA,CAAV,CAAgB,CAAA,SAAzC,CAAA;AAAA,IACA,UAAA,GAAiB,IAAA,YAAA,CAAa,SAAb,CADjB,CAAA;AAEA,WAAO,UAAP,CAHF;EAAA,EAHe;AAAA,CAAD,CAAA,CAAA,CAHhB,CAAA;;AAAA;AAkBI,EAAA,QAAC,CAAA,MAAD,GAAS,KAAT,CAAA;;AACY,EAAA,kBAAE,OAAF,EAAY,OAAZ,EAA8B,WAA9B,GAAA;AAEV,QAAA,QAAA;AAAA,IAFW,IAAC,CAAA,UAAA,OAEZ,CAAA;AAAA,IAFqB,IAAC,CAAA,4BAAA,UAAU,KAEhC,CAAA;AAAA,IAFuC,IAAC,CAAA,oCAAA,cAAc,IAEtD,CAAA;AAAA,IAAA,IAAI,wBAAJ;AACE,WAAA,2BAAA,GAAA;AACE,QAAA,QAAA,GAAe,IAAA,QAAA,CAAS,IAAC,CAAA,OAAQ,CAAA,WAAA,CAAlB,EAA+B,IAAC,CAAA,OAAhC,EAAwC,WAAxC,CAAf,CAAA;AAAA,QACA,IAAK,CAAA,WAAA,CAAL,GAAoB,QAAQ,CAAC,IAAT,CAAA,CADpB,CADF;AAAA,OADF;KAFU;EAAA,CADZ;;AAAA,qBAOA,IAAA,GAAK,SAAA,GAAA;AACH,IAAA,IAAE,CAAE,wBAAF,CAAF;AACE,MAAA,IAAG,IAAC,CAAA,OAAJ;AACE,eAAO,IAAC,CAAA,MAAM,CAAC,IAAR,CAAa,IAAb,CAAP,CADF;OAAA,MAAA;AAGE,eAAO,IAAC,CAAA,IAAI,CAAC,IAAN,CAAW,IAAX,CAAP,CAHF;OADF;KAAA,MAAA;AAME,aAAO,IAAP,CANF;KADG;EAAA,CAPL,CAAA;;AAAA,qBAeA,IAAA,GAAK,SAAA,GAAA;AACH,IAAA,IAAU,IAAC,CAAA,MAAX;AAAA,YAAA,CAAA;KAAA;AAAA,IACA,GAAG,CAAC,YAAJ,CAAiB,IAAC,CAAA,OAAO,CAAC,GAA1B,CADA,CAAA;WAEA,IAAC,CAAA,MAAD,GAAU,KAHP;EAAA,CAfL,CAAA;;AAAA,qBAmBA,MAAA,GAAO,SAAA,GAAA;AACL,IAAA,IAAC,CAAA,IAAD,CAAA,CAAA,CAAA;AACA,WAAO,aAAA,CAAc,IAAC,CAAA,WAAf,EAA4B,SAA5B,CAAP,CAFK;EAAA,CAnBP,CAAA;;kBAAA;;IAlBJ,CAAA;;AAAA,QA0CQ,CAAC,SAAT,GAAqB,qBA1CrB,CAAA;;AAAA,QA4CQ,CAAA,SAAE,CAAA,SAAV,GAAoB,SAAC,KAAD,EAAO,IAAP,GAAA;AAClB,MAAA,aAAA;AAAA,EAAA,aAAA,GAAgB,SAAA,GAAA;WACd,KAAK,CAAC,KAAN,CAAY,IAAZ,EAAkB,SAAU,CAAA,CAAA,CAA5B,EADc;EAAA,CAAhB,CAAA;AAAA,EAEA,aAAa,CAAC,SAAd,GAA0B,KAAK,CAAC,SAFhC,CAAA;AAGA,SAAW,IAAA,aAAA,CAAc,IAAd,CAAX,CAJkB;AAAA,CA5CpB,CAAA;;AAAA,MAkDM,CAAC,IAAP,GAAkB,IAAA,QAAA,CAAU,IAAI,CAAC,KAAL,CAAW,GAAG,CAAC,iBAAJ,CAAsB,QAAQ,CAAC,SAA/B,CAAX,CAAV,EAAgE,KAAhE,CAlDlB,CAAA;;AAAA,MAoDM,CAAC,GAAP,GAAkB,IAAA,QAAA,CAAU,IAAI,CAAC,KAAL,CAAW,GAAG,CAAC,iBAAJ,CAAsB,QAAQ,CAAC,SAA/B,CAAX,CAAV,EAAgE,IAAhE,CApDlB,CAAA","file":"Instance.js","sourceRoot":"/source/","sourcesContent":["###\n# Create an instance of the object passing the argument\n###\ninstaceObject = (->\n  ClassElement = (args) ->\n    window[args[\"0\"]].apply this, args[\"1\"]\n  ->\n    ClassElement:: = (window[arguments[\"0\"]])::\n    objElement = new ClassElement(arguments)\n    return objElement\n)()\n\n##\n# Allow to load some necessary class and instance it\n#\n# @author Thiago Henrique Ramos da Mata <thiago.henrique.mata@gmail.com>\n##\nclass Instance\n    @loaded: false\n    constructor:(@objTree, @creator = false, @packageName = null)->\n\n      if(!@objTree.src? )\n        for packageName of @objTree\n          objChild = new Instance(@objTree[packageName],@creator,packageName)\n          this[packageName] = objChild.node()\n    node:()->\n      if( @objTree.src? )\n        if @creator \n          return @create.bind(this) \n        else \n          return @load.bind(this)\n      else\n        return this\n    load:()->\n      return if @loaded\n      php.require_once(@objTree.src)\n      @loaded = true\n    create:()->\n      @load()\n      return instaceObject(@packageName, arguments)\n\n  \nInstance.PATH_TREE = './scripts/tree.json'\n\nInstance::construct=(klass,args)->\n  ObjectPointer = ->\n    klass.apply(this, arguments[0])\n  ObjectPointer.prototype = klass.prototype\n  return new ObjectPointer(args)\n\nwindow.Load = new Instance( JSON.parse(php.file_get_contents(Instance.PATH_TREE)),false)\n\nwindow.New  = new Instance( JSON.parse(php.file_get_contents(Instance.PATH_TREE)),true)"]}