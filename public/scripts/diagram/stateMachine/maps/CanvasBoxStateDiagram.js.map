{"version":3,"sources":["CanvasBoxStateDiagram.coffee"],"names":[],"mappings":"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","file":"CanvasBoxStateDiagram.js","sourceRoot":"/source/","sourcesContent":["Load.CanvasBox();\nclass CanvasBoxStateDiagram extends CanvasBox\n  strClassName: \"CanvasBoxStateDiagram\"\n  \n  defineMenu:->\n    @objMenu = New.CanvasBoxMenu()\n    @objMenu.objParent = this\n    @objMenu.ojbBox = this\n    @objMenu.ojbParent = this\n    @objMenu.arrMenuItens =\n      0:\n        name: \"create state\",\n        event:( objParent )=>\n          objState = New.CanvasBoxState();\n          objState.objBehavior = New.CanvasBoxMagneticBehavior( objState );\n          objState.x = objParent.mouseX;\n          objState.y = objParent.mouseY;\n          objParent.addElement( objState );\n    @objMenuSelected = null;\n    \n  addLine:( objElementFrom , objElementTo )->\n    if( objElementFrom == null )\n        throw new CanvasBoxException( \"Line has no element from\" );\n    if( objElementTo == null )\n        throw new CanvasBoxException( \"Line has no element to\" );\n    objStateLine = New.CanvasBoxStateLink( objElementFrom , objElementTo );\n    this.addElement( objStateLine );\n    return objStateLine;\n    \n  addState:( strStateName , posX = null , posY = null )->\n    objStateElement = New.CanvasBoxState();\n    if( posX == null )\n      posX = Math.round( Math.random() * 1200 )\n    if( posY== null )\n      posY = Math.round( Math.random() * 1200 )\n    objStateElement.x = posX;\n    objStateElement.y = posY;\n    objStateElement.objBehavior = New.CanvasBoxMagneticBehavior( objStateElement );\n    objStateElement.strStateName = strStateName;\n    this.addElement( objStateElement );\n    return objStateElement;\n\n  load:( objJsonInport )->\n    arrStates = [];\n    for keyState , objStateJson of objJsonInport.states\n        objState = @addState( objStateJson.name , objStateJson.x , objStateJson.y );\n        if( objStateJson.color )\n          objState.fillColor = objStateJson.color;\n        arrStates[ objStateJson.id ] = objState;\n        \n    for keyLine , objLineJson of objJsonInport.lines\n        objLine = @addLine( arrStates[ objLineJson.from ] ,  arrStates[ objLineJson.to ] );\n        objLine.strName = objLineJson.name\n"]}