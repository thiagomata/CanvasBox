{"version":3,"sources":["CanvasBoxConnectorBehavior.coffee"],"names":[],"mappings":"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","file":"CanvasBoxConnectorBehavior.js","sourceRoot":"/source/","sourcesContent":["Load.CanvasBoxBehavior();\nclass CanvasBoxConnectorBehavior extends CanvasBoxBehavior\n    objBox: null\n\n    objBoxElement: null\n\n    intXDistance: 0\n\n    intYDistance: 0\n    \n    constructor:( objBoxElement )->\n        this.objBoxElement = objBoxElement;\n        this.objBox = objBoxElement.objBox;\n\n    draw:()->\n        return this.objBoxElement.draw();\n\n    refresh:()->\n        this.objBoxElement.refresh();\n\n    isInside:()->\n        return this.objBoxElement.isInside();\n\n    onTimer:()->\n        this.move();\n\n    onMouseOver:( event )->\n        if( this.objBoxElement.drawMouseOver )\n            this.objBoxElement.drawMouseOver( event );\n\n    onMouseOut:( event )->\n        if( this.objBoxElement.drawMouseOut )\n            this.objBoxElement.drawMouseOut( event );\n\n    onDblClick:( event )->\n        if( this.objBoxElement.drawFixed )\n            this.objBoxElement.drawFixed( !this.objBoxElement.fixed  );\n\n    onDrag:( event )->\n        intOldX = Math.round( ( this.objBoxElement.objElementFrom.x + this.objBoxElement.objElementTo.x ) / 2 );\n        intOldY = Math.round( ( this.objBoxElement.objElementFrom.y + this.objBoxElement.objElementTo.y ) / 2 );\n        this.objBoxElement.booDrag = true;\n\n        this.intXDistance = this.objBoxElement.objBox.mouseX - intOldX;\n        this.intYDistance = this.objBoxElement.objBox.mouseY - intOldY;\n\n    onDrop:( event )->\n        this.objBoxElement.booDrag = false;\n\n    onMouseDown:( event )->\n\n    onClick:( event )->\n\n    move:()->\n        if( this.objBoxElement.fixed )\n            return;\n        if( this.objBoxElement.objElementFrom != this.objBoxElement.objElementTo )\n            this.objBoxElement.x = ( this.objBoxElement.objElementFrom.x + this.objBoxElement.objElementTo.x ) / 2  + this.intXDistance;\n            this.objBoxElement.y = ( this.objBoxElement.objElementFrom.y + this.objBoxElement.objElementTo.y ) / 2  + this.intYDistance;\n        else\n            if( Math.sqrt( this.intXDistance * this.intXDistance + this.intYDistance * this.intYDistance ) < 100 )\n                this.intXDistance = 100;\n                this.intYDistance = 100;\n            this.objBoxElement.x = ( this.objBoxElement.objElementFrom.x + this.intXDistance );\n            this.objBoxElement.y = ( this.objBoxElement.objElementFrom.y + this.intYDistance );\n\n    getForce:( objElement )->\n        return null;"]}