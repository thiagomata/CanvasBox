{"version":3,"sources":["CanvasBoxFixedButton.coffee"],"names":[],"mappings":"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","file":"CanvasBoxFixedButton.js","sourceRoot":"/source/","sourcesContent":["##\n# Canvas Box Button\n# \n# Interactive Elements to make possible to create \n# new interactions without the use of the menu\n# \n# @author Thiago Henrique Ramos da Mata <thiago.henrique.mata@gmail.com>\n##\nclass CanvasBoxFixedButton\n\n    ##\n    # Button Title\n    #\n    # @var string\n    ##\n    strTitle: \"Default Button\"\n\n    ##\n    # Button padding Top\n    #\n    # @var integer\n    ##\n    intPaddingTop: 0\n    \n    ##\n    # Button padding Left\n    #\n    # @var integer\n    ##\n    intPaddingLeft: 0\n\n    ##\n    # X Position of the Button relative to the element what it's belong to\n    #\n    # @var integer\n    ##\n    intRelativeX: 0\n\n    ##\n    # Y Position of the Button relative to the element what it's belong to\n    #\n    # @var integer\n    ##\n    intRelativeY: 0\n\n    ##\n    # X Absolute Position\n    #\n    # @var integer\n    ##\n    x: 0\n\n    ##\n    # Y Absolute Position\n    #\n    # @var integer\n    ##\n    y: 0\n\n    ##\n    # Possibles Horizontal Positions\n    #\n    # @var string[]\n    ##\n    arrPositionsHorizontal: Array( \"left\" , \"center\" , \"right\")\n\n    ##\n    # Button Horizontal Position\n    #\n    # @var string\n    ##\n    strPositionHorizontal: \"right\"\n\n    ##\n    # Possibles Vertical Positions\n    #\n    # @var string[]\n    ##\n    arrPositionsVertical: Array( \"top\" , \"middle\" , \"bottom\")\n\n    ##\n    # Button Vertical Position\n    #\n    # @var string\n    ##\n    strPositionVertical: \"top\"\n\n    ##\n    # Button Width\n    #\n    # @var integer\n    ##\n    width: 55\n\n    ##\n    # Button Height\n    #\n    # @var integer\n    ##\n    height: 55\n\n    ##\n    # Distance between the button and the element\n    #\n    # @var integer\n    ##\n    borderWidth: 20\n\n    ##\n    # Distance between the button and the element\n    #\n    # @var integer\n    ##\n    borderHeight: 20\n\n    ##\n    # @var CanvasBoxButton|null\n    ##\n    objPreviousButton: null\n\n    ##\n    # CanvasboxElement parent of this Button\n    #\n    # @var CanvasBoxElement|null\n    ##\n    objElement: null\n\n    ##\n    # Flag to control if the mouse is over the element\n    #\n    # @var bool\n    ##\n    booMouseOver: false\n\n    ##\n    # Constructor of the Canvas Box Button\n    # \n    # @param objElement CanvasBoxElement\n    # @return void\n    ##\n    initialize:( objElement )->\n        @objElement = objElement;\n        @x = 0;\n        @y = 0;\n        @booMouseOver = false;\n        @strPositionVertical = \"top\";\n        @strPositionHorizontal = \"right\";\n        @objPreviousButton = null;\n\n    ##\n    # Refresh Position of button based on style attributes\n    #\n    # @return void\n    ##\n    refresh:()->\n        if( @objPreviousButton == null )\n            switch( @strPositionHorizontal )\n                when \"left\" \n                  @intRelativeX = 0;\n                \n                when \"center\" \n                  @intRelativeX = @objElement.width / 2;\n                \n                when \"right\" \n                  @intRelativeX = @objElement.width - @width - @borderWidth * 2;\n                \n                else throw Error( \"invalid horizontal position \" + @strPositionHorizontal );\n\n            switch( @strPositionVertical )\n                when \"top\" \n                  @intRelativeY = 0;\n                \n                when \"middle\" \n                  @intRelativeY = @objElement.height / 2;\n                \n                when \"bottom\" \n                  @intRelativeY = @objElement.height - @borderHeight;\n                \n                else throw Error( \"invalid vertical position \" + @strPositionVertical );\n        else\n            switch( @strPositionHorizontal )\n                when \"left\" \n                    if( @strPositionVertical == \"middle\" )\n                        @intRelativeX = @objPreviousButton.intRelativeX;\n                    else\n                        @intRelativeX = @objPreviousButton.intRelativeX + @objPreviousButton.width + @objPreviousButton.borderWidth;\n\n                when \"center\" \n                    @intRelativeX = @objElement.width / 2;\n                \n                when \"right\" \n                    if( @strPositionVertical == \"middle\" )\n                        @intRelativeX = @objPreviousButton.intRelativeX;\n                    else\n                        @intRelativeX = @objPreviousButton.intRelativeX - @width - @borderWidth;\n                else\n                    throw Error( \"invalid horizontal position \" + @strPositionHorizontal );\n\n            switch( @strPositionVertical )\n                when \"top\"\n                    if( @strPositionHorizontal == \"center\" )\n                        @intRelativeY = @objPreviousButton.intRelativeY - @height - @borderHeight;\n                    else\n                        @intRelativeY = -@height - @borderHeight;\n                \n                when \"middle\"\n                    @intRelativeY = @objPreviousButton.intRelativeY + @height + @borderHeight;\n                \n                when \"bottom\"\n                    if( @strPositionHorizontal == \"center\" )\n                        @intRelativeY = @objPreviousButton.intRelativeY + @objPreviousButton.height + @objPreviousButton.borderHeight;\n                    else\n                        @intRelativeY = @objElement.height + @borderHeight;\n                else\n                    throw Error( \"invalid vertical position \" + @strPositionVertical );\n\n        @x = @intRelativeX + @intPaddingLeft;\n        @y = @intRelativeY + @intPaddingTop;\n\n    ##\n    # Draw the button effect of mouse out\n    #\n    # @return void\n    ##\n    drawOut:()->\n        @objElement.getContext().save();\n        @objElement.getContext().fillStyle = ( \"rgb( 250 , 250 , 250 )\" );\n        @objElement.getContext().globalAlpha = ( 0.1 );\n        @objElement.getContext().fillRect(\n            Math.round( @x ) ,\n            Math.round( @y ) ,\n            Math.round( @width ) ,\n            Math.round( @height )\n        );\n\n        @objElement.getContext().strokeStyle = ( \"rgb( 100 , 100 , 100 )\" );\n        @objElement.getContext().lineWidth = ( 1 );\n        @objElement.getContext().strokeRect(\n            Math.round( @x ) ,\n            Math.round( @y ) ,\n            Math.round( @width ) ,\n            Math.round( @height )\n        );\n        @objElement.getContext().restore();\n\n    ##\n    # Draw the button effect of mouse over\n    #\n    # @return void\n    ##\n    drawOver:()->\n        @objElement.getContext().save();\n        @objElement.getContext().globalAlpha = ( 1 );\n        @objElement.getContext().fillStyle = ( 'rgb( 230 , 230 , 250 )' );\n        @objElement.getContext().fillRect(\n            Math.round( @x ) ,\n            Math.round( @y ) ,\n            Math.round( @width ) ,\n            Math.round( @height )\n        );\n        @objElement.getContext().strokeStyle = ( \"blue\" );\n        @objElement.getContext().lineWidth = ( 1 ); #1px\n        @objElement.getContext().strokeRect(\n            Math.round( @x ) ,\n            Math.round( @y ) ,\n            Math.round( @width ) ,\n            Math.round( @height )\n        );\n        @objElement.getContext().restore();\n\n    ##\n    # Draw the button icon\n    #\n    # @return void\n    ##\n    drawIcon:()->\n        @objElement.getContext().beginPath();\n        @objElement.getContext().save();\n        @objElement.getContext().strokeStyle = ( \"rgb( 20, 20, 20)\" );\n        @objElement.getContext().fillStyle = ( @booMouseOver ? \"rgb( 250, 250, 250)\" : \"rgb( 220, 220, 220)\"  );\n        @objElement.getContext().moveTo( @x  , @y + @height  );\n        @objElement.getContext().lineTo( @x + 6 , @y + @height - 2 );\n        @objElement.getContext().lineTo( @x + 8 , @y + @height - 8 );\n        @objElement.getContext().lineTo( @x + 16 , @y + @height - 16 );\n        @objElement.getContext().lineTo( @x + 30 , @y + @height - 16 );\n        @objElement.getContext().lineTo( @x + 30 , @y + @height - 30 );\n        @objElement.getContext().lineTo( @x + 16 , @y + @height - 30 );\n        @objElement.getContext().lineTo( @x + 16 , @y + @height - 16 );\n        @objElement.getContext().lineTo( @x + 8 , @y + @height - 8 );\n        @objElement.getContext().lineTo( @x + 2 , @y + @height - 6 );\n        @objElement.getContext().lineTo( @x , @y + @height );\n        @objElement.getContext().stroke();\n        @objElement.getContext().fill();\n        @objElement.getContext().restore();\n        @objElement.getContext().closePath();\n\n    ##\n    # Draw the button title\n    #\n    # @return void\n    ##\n    drawTitle:()->\n          @objElement.getContext().save();\n          @objElement.getContext().shadowOffsetX = ( 2 );\n          @objElement.getContext().shadowOffsetY = ( 2 );\n          @objElement.getContext().shadowBlur = ( 2 );\n          @objElement.getContext().shadowColor = ( \"rgba(250, 250, 250, 0.8)\" );\n          @objElement.getContext().font = ( \"20px Times New Roman\" );\n          @objElement.getContext().fillStyle = (\"rgb( 100 , 100, 100 )\");\n          @objElement.getContext().textAlign = \"left\";\n          @objElement.getContext().fillText( @strTitle , @x + @width + @borderWidth , @y + @height / 2 + @borderHeight / 2 );\n          @objElement.getContext().restore();\n\n    ##\n    # Draw the Button with effects and title\n    #\n    # @return void\n    ##\n    drawButton:()->\n        \n        if( @booMouseOver )\n            @drawOver();\n        else\n            @drawOut();\n        \n        try\n          @drawIcon( @booMouseOver , @x , @y  );\n        catch e\n          @objElement.getContext().strokeText( @strClassName , @x , @y );\n\n    ##\n    # Recalculate the button dynamic attributes and draw the button\n    #\n    # @return void\n    ##\n    draw:()->\n        @refresh();\n        if ( @objElement.booMouseOver )\n            @drawButton();\n            if( @booMouseOver )\n                @drawTitle();\n\n    ##\n    # On Click Event\n    #\n    # @return CanvasBoxElement\n    ##\n    onClick:( event )->\n        return CanvasBoxClass::createRelation( @objElement , true, \"CanvasBoxAggregation\" );\n\n    ##\n    # On Drag Event\n    #\n    # @return CanvasBoxElement\n    ##\n    onDrag:( event )->\n        objElement = @onClick( event );\n        objElement.intMass = 0;\n        objElement.select();\n        return objElement;\n\n    ##\n    # Returns If the Mouse inside of button area\n    #\n    # @return bool\n    ##\n    isInside:( mouseX , mouseY )->\n        @refresh()\n        if   (mouseX >= @x - @borderWidth / 2) and \n             (mouseX <= @x + @width + @borderWidth / 2) and \n             (mouseY >= @y - @borderHeight / 2) and \n             (mouseY <= @y + @height + @borderHeight / 2)\n          @booMouseOver = true\n          return true\n        @booMouseOver = false\n        return false;"]}