{"version":3,"sources":["Bubble.coffee"],"names":[],"mappings":"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","file":"Bubble.js","sourceRoot":"/source/","sourcesContent":["###\n# A simple example of how to use the canvas box.\n#\n# @author Thiago Henrique Ramos da Mata <thiago.henrique.mata@gmail.com>\n###\nLoad.CanvasBoxElement();\nclass Bubble extends CanvasBoxElement\n\n    ###\n    # X position\n    # @type double\n    ###\n    x: 0\n\n    ###\n    # Y position\n    # @type double\n    ###\n    y: 0\n\n    ###\n    # Size of each side of square\n    # @type double\n    ###\n    side: 1\n\n    ###\n    # Regular Square Color\n    # @type string color\n    ###\n    colorRegular: \"rgba(250,250,250,0.60)\"\n\n    ###\n    # Current Color\n    # @type string color\n    ###\n    color: \"rgba(250,250,250,0.60)\"\n\n    ###\n    # Color Over\n    # @type string color\n    ###\n    colorOver: \"orange\"\n\n    ###\n    # Square Border Color\n    # @type string color\n    ###\n    borderColorRegular: \"rgb(100,100,100)\"\n\n    ###\n    # Square Border Color\n    # @type string color\n    ###\n    borderColor: \"rgb(100,100,100)\"\n\n    ###\n    # Square Border Color\n    # @type string color\n    ###\n    borderColorOver: \"rgb( 250 , 250, 250 )\"\n\n    ###\n    # Square Border Width\n    # @type double\n    ###\n    borderWidth: 2\n\n    ###\n    # Object Collision\n    # @type Bubble\n    ###\n    objCollision: null\n\n    ###\n    # Is Mouse Over Flag\n    # @type boolean\n    ###\n    isOver: false\n\n    ###\n    # Prepare the Bubble attributes\n    ###    \n    init:->\n        super();\n        @color = @colorRegular\n        @borderColor = @borderColorRegular\n\n    ###\n    # Drag the bubble\n    ###\n    draw:->\n        @objBox.setStrokeStyle( @borderColor );\n        @objBox.setFillStyle( @color );\n        @objBox.setLineWidth(10);\n        @objBox.setStrokeStyle( @borderColor );\n        @objBox.beginPath();\n        @objBox.arc( @x , @y , @side , 0 ,  Math.PI * 2 , true );\n        @objBox.fill();\n        @objBox.stroke();\n        @objBox.closePath();\n\n    ###\n    # Mouse over event\n    ###\n    onMouseOver:( event )->\n        @borderColor = @borderColorOver;\n        @color = @colorOver;\n        @isOver = true;\n        return false;\n\n    ###\n    # Mouse out event\n    ###\n    onMouseOut:( event )->\n        @borderColor = @borderColorRegular;\n        @color = @colorRegular;\n        @isOver = false;\n        return false;\n\n    ###\n    # On drag event\n    # @param event\n    # return boolean\n    ###\n    onDrag:( event )->\n        @onMouseOver( event );\n        return false\n\n    ###\n    # On drop event\n    # @param event\n    # return boolean\n    ###\n    onDrop:( event )->\n        @onMouseOut( event );\n        return false\n\n    ###\n    # On click event\n    # @param event\n    # return boolean\n    ###\n    onClick:( event )->\n        @killMe()\n        return false\n\n    ###\n    # On Timer Event\n    # @param event\n    # Bubbles should go up and grow up\n    ###\n    onTimer:(event)->\n        if( @isOver )\n            return false \n        @y -=2;\n        @side += 0.5;\n\n        @objBox.change();\n        if( @x < ( -1 * @side ) )\n            @killMe();\n            return false;\n        if( @y < ( -1 * @side ) )\n            @killMe();\n            return false;\n        if( @inCollision() )\n            if( @y <= @objCollision.y )\n                @y -= 2;\n                return false;\n            else\n                @y += 2;\n                @side -= 0.5;\n        return super( event );\n\n    ###\n    # Returns if the Mouse is Over the Element\n    #\n    # @param mouseX integer horizontal position of cursor pointer\n    # @param mouseY integer vertical position of the cursor pointer\n    # @return boolean\n    ###\n    isInsideElement:( mouseX , mouseY )->\n        return  ( mouseX >= ( this.x - @side / 2 ) ) &&\n                ( mouseX <= ( this.x + @side / 2 ) ) &&\n                ( mouseY >= ( this.y - @side / 2 ) ) &&\n                ( mouseY <= ( this.y + @side / 2 ) );\n\n    ###\n    # Detect collision between elements.\n    ###\n    inCollision:()->\n        for objElement in @objBox.arrElements\n            if( objElement? and objElement != this and objElement.constructor.name == this.constructor.name )\n                dblDiffX = Math.round( objElement.x - this.x );\n                dblDiffY = Math.round( objElement.y - this.y );\n                dblSumSide = Math.round( objElement.side + this.side );\n                dblSquaredX = dblDiffX * dblDiffX;\n                dblSquaredY = dblDiffY * dblDiffY;\n                dblDistance = Math.round( Math.sqrt( dblSquaredX + dblSquaredY ) );\n                if dblDistance <= dblSumSide\n                    @objCollision = objElement;\n                    return true;\n        return false;"]}